# Create working directory
mkdir -p /tmp/VMware-25H2
cd /tmp/VMware-25H2

# Download all 4 parts
clear
wget https://github.com/GlitchLinux/WMware-Workstation-17/raw/main/VMware-Workstation-Full-25H2-Linux/VMware-Workstation-Full-25H2-24995812.x86_64.bundle.001
clear
wget https://github.com/GlitchLinux/WMware-Workstation-17/raw/main/VMware-Workstation-Full-25H2-Linux/VMware-Workstation-Full-25H2-24995812.x86_64.bundle.002
clear
wget https://github.com/GlitchLinux/WMware-Workstation-17/raw/main/VMware-Workstation-Full-25H2-Linux/VMware-Workstation-Full-25H2-24995812.x86_64.bundle.003
clear
wget https://github.com/GlitchLinux/WMware-Workstation-17/raw/main/VMware-Workstation-Full-25H2-Linux/VMware-Workstation-Full-25H2-24995812.x86_64.bundle.004

# Download license
clear
wget https://github.com/GlitchLinux/WMware-Workstation-17/raw/main/VMware-Workstation-Full-25H2-Linux/license-key.txt

# Splice the parts
cat VMware-Workstation-Full-25H2-24995812.x86_64.bundle.00{1,2,3,4} > VMware-Workstation-Full-25H2-24995812.x86_64.bundle

# Update apt and install headers 
sudo apt-get update -y
sudo apt-get install -y linux-headers-$(uname -r)

# Make executable and run
chmod +x VMware-Workstation-Full-25H2-24995812.x86_64.bundle
clear
sudo ./VMware-Workstation-Full-25H2-24995812.x86_64.bundle

echo "VMware-Workstation-25H2 have been installed!" > /tmp/vmware-installed 
echo "License key: MC60H-DWHD5-H80U9-6V85M-8280D  " >> /tmp/vmware-installed

sudo tee /usr/local/bin/vmware >/dev/null <<'EOF'
#!/bin/bash
sudo rm -f /tmp/vmware.log
nohup sudo /usr/bin/vmware >/tmp/vmware.log 2>&1 &
disown
EOF

sudo chmod 755 /usr/local/bin/vmware
sudo chmod +x /usr/local/bin/vmware

nohup xfce4-terminal --geometry 48x5 --command 'bash -c "cat /tmp/vmware-installed | borderize && sleep 200"' 2>&1 &
sudo chmod +x /usr/bin/vmware
sleep 10 && /usr/local/bin/vmware 2>&1 &
disown
exit
